---
title: MySQL查询优化（三）
date: 2018-09-15 16:56:24
tags: MySQL
---
<meta name="referrer" content="no-referrer" />
# 以下介绍几种常用的SQL查询优化方法

**其他策略** 

- 21、避免频繁创建和删除临时表，以减少系统表资源的消耗。

- 22、临时表并不是不可使用，适当地使用它们可以使某些例程更有效。

例如，当需要重复引用大型表或常用表中的某个数据集时。但是，对于一次性事件，最好使用导出表。

- 23、在新建临时表时，如果一次性插入数据量很大，那么可以使用 select into 代替 create table，避免造成大量 log ，以提高速度。

如果数据量不大，为了缓和系统表的资源，应先create table，然后insert。

- 24、如果使用到了临时表，在存储过程的最后务必将所有的临时表显式删除，先 truncate table ，然后 drop table ，这样可以避免系统表的较长时间锁定。

- 25、尽量避免使用游标，因为游标的效率较差，如果游标操作的数据超过1万行，那么就应该考虑改写。

- 26、使用基于游标的方法或临时表方法之前，应先寻找基于集的解决方案来解决问题，基于集的方法通常更有效。

- 27、与临时表一样，游标并不是不可使用。对小型数据集使用 FAST_FORWARD 游标通常要优于其他逐行处理方法，尤其是在必须引用几个表才能获得所需的数据时。

在结果集中包括“合计”的例程通常要比使用游标执行的速度快。如果开发时间允许，基于游标的方法和基于集的方法都可以尝试一下，看哪一种方法的效果更好。

- 28、在所有的存储过程和触发器的开始处设置 SET NOCOUNT ON ，在结束时设置 SET NOCOUNT OFF 。无需在执行存储过程和触发器的每个语句后向客户端发送 DONE_IN_PROC 消息。

- 29、尽量避免大事务操作，提高系统并发能力。

- 30、尽量避免向客户端返回大数据量，若数据量过大，应该考虑相应需求是否合理。